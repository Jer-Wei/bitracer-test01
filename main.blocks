<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="f-2krO2bi46^GD{i_Qsi">Nor</variable><variable id="2=5EOgF!UIZk(gG`ZaVY">X</variable><variable id="8$5LdbrY4*dMH$|EV;?Z">index4</variable><variable id="Pg.@O4?,OXcm/1JS+~aG">Max</variable><variable id="F`?p8W6;;osR+;fa#KJ!">Min</variable><variable id="%::==u[Svh=|s.tuLt0L">OPENSampling</variable><variable id="N:ci}+pC;D,Y}DH$]~)$">Open</variable><variable id="}w:9QW0h!QnN4u0k??,H">PWM_R</variable><variable id="6Z08f%,.cx~0g@mm,MVC">SPEED</variable><variable id="0Ir_CPW3$FjzNMuNtnqE">PD</variable><variable id="G%|$*le0zIM?(+l`LZIT">PWM_L</variable><variable id="uD+vNiXt0J8mP~JQRW}E">index6</variable><variable id="IHX@^izaQCUZ)1u;+0L{">IR</variable><variable id="RCtF+^T4_WPpmKRU5FM+">index2</variable><variable id="9!A,]Qc_HSGl4$?@fAC=">index</variable><variable id="-C(SxKJZ`9(4!N_MB~ht">i2cBuf</variable><variable id="7d])spPF1m6Fh7OXi^A,">error</variable><variable id="93WmEE=VaQUfa`8loUws">eKd</variable><variable id="}UfH?t1Rl@})Xl;bE*n,">error_old</variable><variable id="v{Wip.iFIRaJRMBHT$H`">Kp</variable><variable id="S]EXv0W![#WH@1,-{]K:">Kd</variable></variables><block type="pxt-on-start" id="eigEr8z^MT*946f4I=H|" x="3" y="13"><statement name="HANDLER"><block type="device_set_digital_pin" id="7^u~bcZ2w^Fm-w,X0I|0"><field name="name">DigitalPin.P16</field><value name="value"><shadow type="math_number_minmax" id="s`d_#|vG8j]pj/#L(!)R"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id="wMmZ`?xI-jA:JIJp~AX#"><field name="name">DigitalPin.P8</field><value name="value"><shadow type="math_number_minmax" id="LwMDp02Ti48|Iaf}G=i@"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="variables_set" id="=7nvbmSIhi`}P[5cR@~*"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="-GhV:f4d+XxHn.pc82yK"><mutation items="1"/><value name="ADD0"><shadow type="math_number" id="OJH#5{XIJ1eHC+E]*D7K"><field name="NUM">5</field></shadow></value></block></value><next><block type="variables_set" id="|!D|@t@wS@5t1(Wd=HZe"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="`Ac(.!C(jlw/Ilj!lH|a"><mutation items="1"/><value name="ADD0"><shadow type="math_number" id="!tqxe)e3V{(#028ar]C7"><field name="NUM">5</field></shadow></value></block></value><next><block type="variables_set" id="mS5ef.bh.^T/TbC57WFN"><field name="VAR" id="Pg.@O4?,OXcm/1JS+~aG">Max</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="?QKZJV?Wg:y(L3n^0T4j"><mutation items="1"/><value name="ADD0"><shadow type="math_number" id="LY4`r@+t/mt[RN4G2lkh"><field name="NUM">5</field></shadow></value></block></value><next><block type="variables_set" id="opabEJ5Vy_zN/Q2M@F!^"><field name="VAR" id="F`?p8W6;;osR+;fa#KJ!">Min</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="$6KWsf18=O59)Yv[a@*@"><mutation items="1"/><value name="ADD0"><shadow type="math_number" id="tFC[[+-Z64${VKsiCSj%"><field name="NUM">5</field></shadow></value></block></value><next><block type="function_call" id="2/4Ej/Iyh]c1P^BD$pr="><mutation name="Init_Sampling" functionid="cWKGc}(BAknJ3w,j(K4D"/><next><block type="variables_set" id="Wh1Ko%rb!#?yff9U=PF~"><field name="VAR" id="6Z08f%,.cx~0g@mm,MVC">SPEED</field><value name="VALUE"><shadow type="math_number" id="2qv4_yG+r;4-k;%NA:`7"><field name="NUM">120</field></shadow></value><next><block type="variables_set" id="`l_TD^6DxkCh]JiUhaKC"><field name="VAR" id="S]EXv0W![#WH@1,-{]K:">Kd</field><value name="VALUE"><shadow type="math_number" id="X7*5cQk(W=C3NYt)xvuz"><field name="NUM">160</field></shadow></value><next><block type="variables_set" id="DP0F6|TH95ijbbVM)B8P"><field name="VAR" id="v{Wip.iFIRaJRMBHT$H`">Kp</field><value name="VALUE"><shadow type="math_number" id="2UHgcUumtqL?;SSjIkmV"><field name="NUM">65</field></shadow></value><next><block type="device_play_note" id="[(e(ap6+lI@xSH@%nNGU"><value name="note"><shadow type="device_note" id="T?qZYQ_W3#:ej:lmj#u~"><field name="name">262</field></shadow></value><value name="duration"><shadow type="device_beat" id="[;N2j8r;ep5B%`JB?=Zl"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_set_digital_pin" id="_qI{RS]mW6h`.K)|]IMv"><field name="name">DigitalPin.P16</field><value name="value"><shadow type="math_number_minmax" id="pImVa3t^w?JIL1pO}?,E"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_set_digital_pin" id="qd]dyCcguL#x`OaaaY9Y"><field name="name">DigitalPin.P8</field><value name="value"><shadow type="math_number_minmax" id="Q]V#DA(C@Tg_#BFk9LAv"><mutation min="0" max="1" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="cW|U~o%RqMIMs_){X7h1" x="458" y="1"><field name="NAME">Button.A</field><comment>開啟紅外線取值</comment><statement name="HANDLER"><block type="device_show_leds" id="G*xv%T$#3Fzh=RgJJs8N"><field name="LEDS">`&#10;        # # # # # &#10;        # . . . # &#10;        # . . . # &#10;        # . . . # &#10;        # # # # #&#10;        `</field><next><block type="device_play_note" id="*yJN;JG`FxXALu9o#5lX"><value name="note"><shadow type="device_note" id="L`,*vLB1fQoW~tJuUINl"><field name="name">262</field></shadow></value><value name="duration"><shadow type="device_beat" id="oRbFgVo!#Mt$VRGENf)W"><field name="fraction">BeatFraction.Eighth</field></shadow></value><next><block type="function_call" id="/-fKL^8_kdA`4!Nx=Fe^"><mutation name="Init_Sampling" functionid="cWKGc}(BAknJ3w,j(K4D"/><comment>紅外線數值初始化</comment><next><block type="variables_set" id="tL50L#z+M8~k.v,?+@jg"><field name="VAR" id="%::==u[Svh=|s.tuLt0L">OPENSampling</field><value name="VALUE"><shadow type="math_number" id="b;Pfek){CmSV{@@dB0N;"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="L75AIW%o!u[8dvj[Zl1i" x="813" y="0"><field name="NAME">Button.B</field><comment>關閉紅外線取值</comment><statement name="HANDLER"><block type="device_show_leds" id="dK[|h3(}fRA}As^Vol+l"><field name="LEDS">`&#10;        # . . . # &#10;        . # . # . &#10;        . . # . . &#10;        . # . # . &#10;        # . . . #&#10;        `</field><next><block type="device_play_note" id="beoD*f=A%,e53)k/lIOH"><value name="note"><shadow type="device_note" id="OJ;WozZT`j4U)aP5ii~D"><field name="name">262</field></shadow></value><value name="duration"><shadow type="device_beat" id="+ZS+SWJ#j~U5_;3bwK%4"><field name="fraction">BeatFraction.Eighth</field></shadow></value><next><block type="variables_set" id="T3AJ$P4qnuR/ejfFJ]5d"><field name="VAR" id="%::==u[Svh=|s.tuLt0L">OPENSampling</field><value name="VALUE"><shadow type="math_number" id="!CssVR55x7-AC4uKN!-Q"><field name="NUM">0</field></shadow></value></block></next></block></next></block></statement></block><block type="device_button_event" id="=v9_nb`#^GGGXi3@[`RZ" x="1164" y="3"><field name="NAME">Button.AB</field><comment>開始循線線</comment><statement name="HANDLER"><block type="device_show_leds" id="4d!Q}E@BZR*)w:J9^0@;"><field name="LEDS">`&#10;        . . # . . &#10;        . # # # . &#10;        # . # . # &#10;        . . # . . &#10;        . . # . .&#10;        `</field><next><block type="device_play_note" id="Ix.O54MV9+1fY,S~5W4o"><value name="note"><shadow type="device_note" id="|ipZ@H4aboBA.CJDH=23"><field name="name">262</field></shadow></value><value name="duration"><shadow type="device_beat" id="W2ina+WgvOB9Z5Mkkeoe"><field name="fraction">BeatFraction.Eighth</field></shadow></value><next><block type="variables_set" id="CSj$4|qe+DeuA1pnq9ME"><field name="VAR" id="N:ci}+pC;D,Y}DH$]~)$">Open</field><value name="VALUE"><shadow type="math_number" id="{8N+]N!@:gRla7hZf~8p"><field name="NUM">1</field></shadow></value></block></next></block></next></block></statement></block><block type="device_forever" id="Jq59/4BYRV.=z2qiqP=I" x="1530" y="11"><statement name="HANDLER"><block type="controls_if" id="Y.g0Um|?jmIF4{En:`}u"><comment>開始讀取紅外線</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Q=r9G2f%2M1C7Z.4a@9J"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="z*jM(N5jK|qu1/Q:0CRl"><field name="VAR" id="%::==u[Svh=|s.tuLt0L">OPENSampling</field></block></value><value name="B"><shadow type="math_number" id="=}yd6Gp@^4YYba/fD58]"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="U0AU_]0paFY.0Zsf^3-A"><mutation name="ReadAdc" functionid="7M]=a*}C`T6WSMLhZ_mk"/><next><block type="function_call" id="gSL$p9uSX2bS9,xIq9I]"><mutation name="Sampling" functionid="xV1Wqjl~EJdqHz/W9#jI"/></block></next></block></statement><next><block type="controls_if" id="e.!u?g=5-*t9[HIsT|bJ"><comment>開始循線</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")!zEqaIHQgX=_6/=ZYaP"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="irTPNW,Q7I,5S|6)3/~t"><field name="VAR" id="N:ci}+pC;D,Y}DH$]~)$">Open</field></block></value><value name="B"><shadow type="math_number" id="jgoV7r8CIr?P*O1m9l{6"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="oTeT:V{^$~Gsk=^H;8Ar"><mutation name="ReadAdc" functionid="7M]=a*}C`T6WSMLhZ_mk"/><next><block type="function_call" id="p_;Ew8?e)H%$p!.mGC(I"><mutation name="IR_Nor" functionid="]#!Hl*d7VrDbE4_9lj`0"/><next><block type="function_call" id="?p/JGw|r7)2lCT~wmlR["><mutation name="Weights" functionid="G/ut2LDe=H#j`~f{NbtA"/><next><block type="function_call" id="+ahHvnOR5A?5kUMbK,1q"><mutation name="PD_control" functionid="kWjQ?hfe?=0Y`J2ZmTHD"/></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="Vk)w0z_(G@430$[,PSt~" x="2058" y="13"><mutation name="Init_Sampling" functionid="cWKGc}(BAknJ3w,j(K4D"/><field name="function_name">Init_Sampling</field><comment>紅外線數值初始化</comment><statement name="STACK"><block type="pxt_controls_for" id="7;*l0S.g[SGRD/:P-4+0"><value name="VAR"><shadow type="variables_get_reporter" id="G/P?9M.yXvY.1U+q8sxc"><field name="VAR" id="8$5LdbrY4*dMH$|EV;?Z">index4</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="dooM#)G@^@Y/T#8~?:cs"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="lists_index_set" id="/%;rYz_l|5rq*+6FHgCt"><value name="LIST"><block type="variables_get" id="sV7/jhHKY;Ig$uv.#rmY"><field name="VAR" id="Pg.@O4?,OXcm/1JS+~aG">Max</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|V~h_q5ChOwoW/Uh_vme"><field name="VAR" id="8$5LdbrY4*dMH$|EV;?Z">index4</field></block></value><value name="VALUE"><shadow type="math_number" id="VGJBz_MFUXH[b4[Z0Or)"><field name="NUM">200</field></shadow></value><next><block type="lists_index_set" id="!dP]V@*XyFT3SXX~j%NS"><value name="LIST"><block type="variables_get" id="/H3.;D_H0d~YxrSYGlMr"><field name="VAR" id="F`?p8W6;;osR+;fa#KJ!">Min</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="T?E8q7n+p@K5V~cHv?~7"><field name="VAR" id="8$5LdbrY4*dMH$|EV;?Z">index4</field></block></value><value name="VALUE"><shadow type="math_number" id="fx6oe^Hi8iAcK*T=`Z,F"><field name="NUM">3800</field></shadow></value></block></next></block></statement></block></statement></block><block type="function_definition" id="4Vl?8wyp|d,x^Di$@DiU" x="4" y="780"><mutation name="Weights" functionid="G/ut2LDe=H#j`~f{NbtA"/><field name="function_name">Weights</field><comment>計算線段中心位置</comment><statement name="STACK"><block type="controls_if" id="6G+On6ww!N!4!$_q)^;m"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="TBkI19ZvZVZk{zhFtaY7"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="f1Ym3Cw$5-%9eICnX60`"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="s4.65BtdBzl)`$AJq/-s"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="t:]AMIWA6+o}ajAkZ_ry"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="=3W`Q2GRXy+AI#,tK$2#"><value name="LIST"><block type="variables_get" id="b-zgW,C_K#ULiE%Tn{h]"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="VxjaxwREb5ivw#[cTdN3"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="Xw@ubW!LW[s#pyoS]9j$"><field name="NUM">1000</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="9$nYlfjo.RenSQ)FsD+G"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")Z{EjmHf^qd/N.EZomyr"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="tqwRuZ!]MAL?(8ZCDw@m"><value name="LIST"><block type="variables_get" id="CrTK/Z7IJ8H2jt8}-+}q"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="ck:aD[@vp+(,X+E_1;$v"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="t[hPU=`/{,YWl9I.uN*n"><field name="NUM">1000</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="yB|^5]7IJuNEDyDuuQ?u"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="BA-T_%spBdOU3V^=c{(V"><value name="LIST"><block type="variables_get" id="NZ^Me{tZuQP3{_8]E2{N"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="s?Ls;GQYib+N`NH*w{X8"><field name="NUM">2</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="fE:6VnO[)PT7!Nu3oqzt"><field name="NUM">1000</field></shadow></value></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="]!j5Lj^HpqZ!jJHBAR:O"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="m:l[)0]]iA%X+#}8b:.$"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="w`n67pltB6,(?|ydpG}d"><value name="LIST"><block type="variables_get" id="A%df5swc?K[k{m!bzCHN"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="u#e8dA}]*2C]xM8[z.Mx"><field name="NUM">3</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="PiuX`L2Ll}4/S(W?~%iG"><field name="NUM">1000</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[/c{{aSJ{8HK7Y1Hc]U?"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="f?ODXczJ_9$#4!p*mQr_"><value name="LIST"><block type="variables_get" id="AYVwG6a`mc5X_ZQTULRh"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="HO{+`,lM7Hg%e:4z2m?5"><field name="NUM">4</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="4p|_k!uASXir2+P}M!8s"><field name="NUM">1000</field></shadow></value></block></value></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="MnzVgf*rHW]%*(%/=glK"><field name="VAR" id="2=5EOgF!UIZk(gG`ZaVY">X</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="?$eF3qHi`5?7xb*-tr5r"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="GVMzIymCXQ9nHg9C;u,Q"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="6|^axI#e1|(Z@onplVR,"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="-oH]hD3X$p6?X{;lfZl%"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="3q1PVKAC}28;}0j_q^mT"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="M;9kjB_c9u@6VqcO088E"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="MS:7(v#(y0kwELo]Oo|8"><value name="LIST"><block type="variables_get" id="21WYO*2B|n4{P]Tlt`Bb"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="P9(e=5CF,kFSv]?R6xKN"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="#7d?u!okT;IRLqa$mEHq"><field name="NUM">-2.2</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="+]g{m!?VFpvcvnePzq70"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Pi=EXsxTY__#YP4WdAKK"><value name="LIST"><block type="variables_get" id="MOZ26k^rbRxmi}IrV2`9"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="%lEQ2;crz5TI_^Jo3odI"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="{@y#l5io_oWACsZXu/cZ"><field name="NUM">-1</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="``(;FmZ+g/F_#IxxlfP["><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="M~bd:w(pYId-:Afhn+H3"><value name="LIST"><block type="variables_get" id="$X~~V2s!#b.70gpyB6m%"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="V_gZVzy.:DUp}X%CBzIr"><field name="NUM">2</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="QmxwMKu%aegI]yWp@G_9"><field name="NUM">0</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="yZ{MB.71%ye@hRG#=0vG"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="*_-QY8h*!Z#}6xuRk-6$"><value name="LIST"><block type="variables_get" id="M2z^Ywz(Xctxv3^?(s8W"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="*QYMM,D*6Gd@8Z38lA#T"><field name="NUM">3</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="mE;/IcOY!2ho#($b]iz}"><field name="NUM">1</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="yS!JFl{trNY2i#A9C9!P"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="ukpt{9*o%t7PEWaDM7/N"><value name="LIST"><block type="variables_get" id="MEoX5?XSOgsrfKon@#5{"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="$PyHCJ#$PZhWH[W0W?E$"><field name="NUM">4</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="`%HRqkX]g8tlRjG}`#oE"><field name="NUM">2.2</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="cRXUCJg,fle:bl!tdh|m"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="nL}0yAevh.|=nU,9jDf|"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="DQSxe0r`?5+CkwW!T+=."><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="G|X7mcgmSUKEVBoAZxCP"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="vV_^W;j:%*Rs~4fb7``,"><value name="LIST"><block type="variables_get" id="C94+A7$2^j|TkY!SW6]a"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="2+|H1LS.~r?,#JP^R^jq"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Duza@d#fY][:0pF4Vj,%"><value name="LIST"><block type="variables_get" id="ga,_?Yf;WjNL]9L^Jh|q"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="OK}vG_h$,+2i0ivP@@c*"><field name="NUM">1</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="SXrt$$wV4E)@X6;]|Z-!"><value name="LIST"><block type="variables_get" id="#kyGgCMVxMTTzh!1Ps(h"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="BD#^MY^V@C+afV-V/c+e"><field name="NUM">2</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="/[6[U{*?1GsWEF)8861@"><value name="LIST"><block type="variables_get" id="tf^AxJt2vN3+4[l}.,r+"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="FW.-C2g0`20A*)}z!iY1"><field name="NUM">3</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="R|]WRwqZ4%]=I/QY4r4j"><value name="LIST"><block type="variables_get" id="c(JG#zn,aZgqrK(4)amQ"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number" id="^URxgr+:9f5}UdM?69Q."><field name="NUM">4</field></shadow></value></block></value></block></value></block></value></block></statement></block></statement></block><block type="function_definition" id="wU5#u!6{OMd{=vR`8[L4" x="1" y="1138"><mutation name="Morto_control" functionid="98gC`~iBaO;Qygaooakc"/><field name="function_name">Morto_control</field><comment>馬達控制命令</comment><statement name="STACK"><block type="variables_set" id="kF5UHzV:]?#z*So`w4Z|"><field name="VAR" id="}w:9QW0h!QnN4u0k??,H">PWM_R</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="xF,C9k](0c_XO+;E`_$,"><value name="value"><block type="math_arithmetic" id=")LLzc[s5(_Ym^q!c+|sx"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Bbr_j2]axq_P^tw{AlRW"><field name="VAR" id="6Z08f%,.cx~0g@mm,MVC">SPEED</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="e3VlzUlH|D)S^[UvqW=u"><field name="VAR" id="0Ir_CPW3$FjzNMuNtnqE">PD</field></block></value></block></value><value name="low"><shadow type="math_number" id="op0alX(0A~|v?XWC2pv*"><field name="NUM">-255</field></shadow></value><value name="high"><shadow type="math_number" id="0-RRDJE%CF!ySIiieH`p"><field name="NUM">255</field></shadow></value></block></value><next><block type="variables_set" id="LH?82Rz`5![s/XVa%c8#"><field name="VAR" id="G%|$*le0zIM?(+l`LZIT">PWM_L</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="9+Mp:Zr(20yip=rOB[C,"><value name="value"><block type="math_arithmetic" id="G2gvqq3:Fo?,RAAeUcjx"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="0zzK}pmQ0X+z-7ZZql/Y"><field name="VAR" id="6Z08f%,.cx~0g@mm,MVC">SPEED</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="QYYIBv!B`72}N5YUg*BY"><field name="VAR" id="0Ir_CPW3$FjzNMuNtnqE">PD</field></block></value></block></value><value name="low"><shadow type="math_number" id="En[pB,3b!4ty?;i9wQpD"><field name="NUM">-255</field></shadow></value><value name="high"><shadow type="math_number" id="p/g8XqXJIR.f!vVmn:{Q"><field name="NUM">255</field></shadow></value></block></value><next><block type="controls_if" id="$LR_U[ZCw#3}/*8W|EQi"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Fzj~fkDJX.,p{3]X=T({"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="z.b|S6ojUoEi2a7}Py]+"><field name="VAR" id="}w:9QW0h!QnN4u0k??,H">PWM_R</field></block></value><value name="B"><shadow type="math_number" id="e:=lfOiP25}pwydffp_u"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="y,HOh2!9O1!`twyJhh6m"><mutation name="Motor" functionid="4Y6_E^)MXP,w]t$$3^T{"><arg name="ID" id="o2epp0eoyy6mphpmx33ls2" type="number"/><arg name="Dir" id="nkcoj9e99ry8kyea0pyfh3" type="number"/><arg name="Pwm" id="0up92tnqpoqa60qwzq90zy" type="number"/></mutation><value name="o2epp0eoyy6mphpmx33ls2"><shadow type="math_number" id="[R=S}~b]mI@5@-2m-~zV"><field name="NUM">2</field></shadow></value><value name="nkcoj9e99ry8kyea0pyfh3"><shadow type="math_number" id="j0qV(m*OBss,g_9(:UfR"><field name="NUM">0</field></shadow></value><value name="0up92tnqpoqa60qwzq90zy"><shadow type="math_number" id="S7A-.0K3d?yZ-(!yG7z2"><field name="NUM">1</field></shadow><block type="variables_get" id="[Vw1i8|uxJ]S$SL[jpa)"><field name="VAR" id="}w:9QW0h!QnN4u0k??,H">PWM_R</field></block></value></block></statement><statement name="ELSE"><block type="function_call" id="P@?1YFw=H0@b9n.0X5dS"><mutation name="Motor" functionid="4Y6_E^)MXP,w]t$$3^T{"><arg name="ID" id="o2epp0eoyy6mphpmx33ls2" type="number"/><arg name="Dir" id="nkcoj9e99ry8kyea0pyfh3" type="number"/><arg name="Pwm" id="0up92tnqpoqa60qwzq90zy" type="number"/></mutation><value name="o2epp0eoyy6mphpmx33ls2"><shadow type="math_number" id="4@a^:i(e|N!M{+]MguP$"><field name="NUM">2</field></shadow></value><value name="nkcoj9e99ry8kyea0pyfh3"><shadow type="math_number" id="!xDaa|G5s[$j=qx|/9_B"><field name="NUM">1</field></shadow></value><value name="0up92tnqpoqa60qwzq90zy"><shadow type="math_number" id="Hl0?gYRR9Nv$91ytMY7R"><field name="NUM">1</field></shadow><block type="math_op3" id="z7h/Q)m]6BF1}bDy.Zij"><value name="x"><block type="variables_get" id="xyDpzUpXXTtmJ,K=Czl="><field name="VAR" id="}w:9QW0h!QnN4u0k??,H">PWM_R</field></block></value></block></value></block></statement><next><block type="controls_if" id="_iu*!qK1Iu04xXN$7-3B"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="dLP`KCI7aFb]wQ6PE?Mp"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|W[*[/:ddZXm9fiXh|~y"><field name="VAR" id="G%|$*le0zIM?(+l`LZIT">PWM_L</field></block></value><value name="B"><shadow type="math_number" id="m[S8RnRx9!nNhKJcNZex"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="4t7gmC=$D(4XDjS=dV+7"><mutation name="Motor" functionid="4Y6_E^)MXP,w]t$$3^T{"><arg name="ID" id="o2epp0eoyy6mphpmx33ls2" type="number"/><arg name="Dir" id="nkcoj9e99ry8kyea0pyfh3" type="number"/><arg name="Pwm" id="0up92tnqpoqa60qwzq90zy" type="number"/></mutation><value name="o2epp0eoyy6mphpmx33ls2"><shadow type="math_number" id="TtAEB9$ZZ*0w/5ykUU$l"><field name="NUM">0</field></shadow></value><value name="nkcoj9e99ry8kyea0pyfh3"><shadow type="math_number" id="^E}oLCs+ciC=;/NUVALq"><field name="NUM">0</field></shadow></value><value name="0up92tnqpoqa60qwzq90zy"><shadow type="math_number" id="Y*9Ah4%v}f*.n59^W4jf"><field name="NUM">1</field></shadow><block type="variables_get" id="LS71|TqDX#mTnV]-w`Zd"><field name="VAR" id="G%|$*le0zIM?(+l`LZIT">PWM_L</field></block></value></block></statement><statement name="ELSE"><block type="function_call" id="?_O=YT#t*Nz`|NPnZ_O9"><mutation name="Motor" functionid="4Y6_E^)MXP,w]t$$3^T{"><arg name="ID" id="o2epp0eoyy6mphpmx33ls2" type="number"/><arg name="Dir" id="nkcoj9e99ry8kyea0pyfh3" type="number"/><arg name="Pwm" id="0up92tnqpoqa60qwzq90zy" type="number"/></mutation><value name="o2epp0eoyy6mphpmx33ls2"><shadow type="math_number" id="r2=InfjaMm/|;O[Qp@p}"><field name="NUM">0</field></shadow></value><value name="nkcoj9e99ry8kyea0pyfh3"><shadow type="math_number" id="+hr5uzlldUl-7S`$MVO?"><field name="NUM">1</field></shadow></value><value name="0up92tnqpoqa60qwzq90zy"><shadow type="math_number" id="Qm7:Ap/6D`-#j3`EE6p)"><field name="NUM">1</field></shadow><block type="math_op3" id="Fk{!I:e=|RdYM2[g@W]l"><value name="x"><block type="variables_get" id="wyPa{jw5Hp,GB#wwN6.Z"><field name="VAR" id="G%|$*le0zIM?(+l`LZIT">PWM_L</field></block></value></block></value></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="p[M)m^az@LOX#MT}PVMX" x="746" y="1146"><mutation name="Sampling" functionid="xV1Wqjl~EJdqHz/W9#jI"/><field name="function_name">Sampling</field><comment>紅外線最大&amp;最小值</comment><statement name="STACK"><block type="pxt_controls_for" id="Z:ke(YmpF,T)Cj0;**XB"><value name="VAR"><shadow type="variables_get_reporter" id=",k$3I?+R#R3^DCLZEbIo"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="QN/Mm+]nRVy]JM/P_JO?"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="controls_if" id="pfOWK9QAUpp[w~Ob2dQf"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="!56j%(Idg~,Cf8ufYF(V"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="B4B?g:(uQN]2pt?Tm~`k"><value name="LIST"><block type="variables_get" id="ShbsBC43v$_SCgqjhp6X"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="h[*4ph#]S|U65r%Y{jjV"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="0lKdSqA?aHLAKyo*vFD^"><value name="LIST"><block type="variables_get" id="e%T)$wlG;tK.glq69_7@"><field name="VAR" id="Pg.@O4?,OXcm/1JS+~aG">Max</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=":6By8,a4Zw*}=|ANXG}x"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value></block></value><statement name="DO0"><block type="lists_index_set" id="zWeDX#{DR[{0guX8989c"><value name="LIST"><block type="variables_get" id="O%L;x$n,kAio+WOUmy?W"><field name="VAR" id="Pg.@O4?,OXcm/1JS+~aG">Max</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="$*x;;ekL|Nu3]yg~+us0"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value><value name="VALUE"><block type="lists_index_get" id="u8vy(DR(t%vJS=SSx;E1"><value name="LIST"><block type="variables_get" id="0k:|VER2yZLV^eoyj}r5"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="pFzk;|?6Yva9c}f~w]FQ"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value></block></statement><next><block type="controls_if" id="n~]FU!-uLrQYoi=_o6Zj"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="EWXRFM9#]V=,J.U2is#T"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="V7v~GRf^GAa[}]*a$qV$"><value name="LIST"><block type="variables_get" id="-$.-fo]cICu1;tSHetG3"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="m`?qw8$lt-Jqjg(Md-7-"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="QZTTi~8_*yOO34HRL*3:"><value name="LIST"><block type="variables_get" id="i~7ZXOXr|P5g:66;xkW6"><field name="VAR" id="F`?p8W6;;osR+;fa#KJ!">Min</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="icDJB/A!Weg.C{W8iB/R"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value></block></value><statement name="DO0"><block type="lists_index_set" id="$-HA{mcWSeG)Ff/d|BF/"><value name="LIST"><block type="variables_get" id="[(0c3t$TXsGJWhv1FDvv"><field name="VAR" id="F`?p8W6;;osR+;fa#KJ!">Min</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="+VXsj9c{%0CopLX,%z6J"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value><value name="VALUE"><block type="lists_index_get" id="i[KQK#bqDhMmNzCf0CVZ"><value name="LIST"><block type="variables_get" id="c$bBr*[mK55$86OUdO?{"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="~I!vA9n9RnxVBI];T]Z)"><field name="VAR" id="uD+vNiXt0J8mP~JQRW}E">index6</field></block></value></block></value></block></statement></block></next></block></statement></block></statement></block><block type="function_definition" id="~bA%g7Y/zIfy4)L24-=I" x="1983" y="1176"><mutation name="ReadAdc" functionid="7M]=a*}C`T6WSMLhZ_mk"/><field name="function_name">ReadAdc</field><comment>讀取紅外線數值</comment><statement name="STACK"><block type="pxt_controls_for" id="e#7/1F5!R!TO+tTOx@$d"><value name="VAR"><shadow type="variables_get_reporter" id="rx9]]Ab9=-#|MR~X53ek"><field name="VAR" id="9!A,]Qc_HSGl4$?@fAC=">index</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="5w,FJ[^4WhyajGYsi+Zq"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="i2c_writenumber" id="]N2THJhHB+o:utzmawlH"><field name="format">NumberFormat.Int8BE</field><comment>N76E003 的 I2C 地址為0x10 = 十進制 16 跟N76E003通訊 選擇要讀取的紅外線</comment><value name="address"><shadow type="math_number" id="X`dE@tR]C#3|BCUv(F^r"><field name="NUM">16</field></shadow></value><value name="value"><block type="math_arithmetic" id=":8@_fBx:9fkgo/)x3Sk="><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="md/R~q:+{DE$jbXqJo-o"><field name="VAR" id="9!A,]Qc_HSGl4$?@fAC=">index</field></block></value><value name="B"><shadow type="math_number" id="1)zYporgSZ{+[103b}(X"><field name="NUM">3</field></shadow></value></block></value><value name="repeat"><shadow type="logic_boolean" id="9n-SEVyOdtmfaVo*D~yJ"><field name="BOOL">FALSE</field></shadow></value><next><block type="lists_index_set" id="r;QqdgL$,awf)]dB0`;i"><comment>讀取紅外線值</comment><value name="LIST"><block type="variables_get" id="_Jt.*}UE`8rDZtzS{weE"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="CtDjrQqX]-9-kSqSs9n{"><field name="VAR" id="9!A,]Qc_HSGl4$?@fAC=">index</field></block></value><value name="VALUE"><block type="pins_i2c_readnumber" id="IL[`YmA8DxmZbfY|~eum"><field name="format">NumberFormat.Int16BE</field><value name="address"><shadow type="math_number" id="we][Jh6cVk[)i)/T]~$t"><field name="NUM">16</field></shadow></value><value name="repeat"><shadow type="logic_boolean" id="kac?n=2B@`uUZ_CtW9VG"><field name="BOOL">FALSE</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="function_definition" id="nH}w)OKLgQp:%N2~HJ;)" x="743" y="1833"><mutation name="PD_control" functionid="kWjQ?hfe?=0Y`J2ZmTHD"/><field name="function_name">PD_control</field><comment>PD計算</comment><statement name="STACK"><block type="variables_set" id="ZD4[o2~Wb^wl|Y}@U53x"><field name="VAR" id="7d])spPF1m6Fh7OXi^A,">error</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="n7T@^k6r_(bIu7e}Zc3F"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="fJ44jtErf2Fi8G|sYE0r"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="whGdfCw@m?i.(B=]+-4`"><field name="VAR" id="2=5EOgF!UIZk(gG`ZaVY">X</field></block></value></block></value><next><block type="variables_set" id="pJcnJzFGlt8q6C~{_jI|"><field name="VAR" id="93WmEE=VaQUfa`8loUws">eKd</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=":tP.rDkJZ+VK+R]v^g0K"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="{`5oQzn+I*qG2tV2U9~a"><field name="VAR" id="7d])spPF1m6Fh7OXi^A,">error</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-[Ai9],MXHwGL9G+E~bv"><field name="VAR" id="}UfH?t1Rl@})Xl;bE*n,">error_old</field></block></value></block></value><next><block type="variables_set" id="3C@yF)e]fRHslUKBopHM"><field name="VAR" id="}UfH?t1Rl@})Xl;bE*n,">error_old</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="H/To?8CC5x]sb5uXGJpx"><field name="VAR" id="7d])spPF1m6Fh7OXi^A,">error</field></block></value><next><block type="variables_set" id="Bx:XN~sf,R[2,7t]._BS"><field name="VAR" id="0Ir_CPW3$FjzNMuNtnqE">PD</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="*SDvCX`$p,QGTIq3Rm`K"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I`+Gil,PFxRYAO)*|c%b"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="K1hDqXu6??dyfN)l!6F{"><field name="VAR" id="7d])spPF1m6Fh7OXi^A,">error</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="#!6T@Cyq7gCD}|T(6e7o"><field name="VAR" id="v{Wip.iFIRaJRMBHT$H`">Kp</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="_Q.E6ww2TYg0`PDZF.}E"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="mxo6s-N-*3L#WPqjx;4V"><field name="VAR" id="93WmEE=VaQUfa`8loUws">eKd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="*uPf$%tfX6Lgtuvy$I87"><field name="VAR" id="S]EXv0W![#WH@1,-{]K:">Kd</field></block></value></block></value></block></value><next><block type="function_call" id="J!BH8AA^QR^#f951C8f:"><mutation name="Morto_control" functionid="98gC`~iBaO;Qygaooakc"/><comment>馬達控制</comment></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="c]l@GD(sxd7Y`SWK-Vw?" x="0" y="1877"><mutation name="Motor" functionid="4Y6_E^)MXP,w]t$$3^T{"><arg name="ID" id="o2epp0eoyy6mphpmx33ls2" type="number"/><arg name="Dir" id="nkcoj9e99ry8kyea0pyfh3" type="number"/><arg name="Pwm" id="0up92tnqpoqa60qwzq90zy" type="number"/></mutation><field name="function_name">Motor</field><comment>馬達控制命令 ID 0 = 左輪 ID 1 = 右輪 DIR = 0 正轉 DIR = 1 反轉 PWM = 0 停止 PWM 255 = 全速</comment><statement name="STACK"><block type="typescript_statement" id="et,9[KK?-GE!ZdTlh}yv" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let i2cBuf = pins.createBuffer(3)" numlines="1" declaredvars="i2cBuf"></mutation><next><block type="lists_index_set" id="163oZ[{bHDLPiN_t3m(v"><value name="LIST"><block type="variables_get" id="HG?3@;5$RcJBbb6g[NL%"><field name="VAR" id="-C(SxKJZ`9(4!N_MB~ht">i2cBuf</field></block></value><value name="INDEX"><shadow type="math_number" id="Unx4J@w`%~o5sF9T]2[M"><field name="NUM">0</field></shadow></value><value name="VALUE"><block type="argument_reporter_number" id="nWDx2+NX.7J2=Lw_kc-s"><field name="VALUE">ID</field></block></value><next><block type="lists_index_set" id=",_?W=bw^(4pq(~~1g%S4"><value name="LIST"><block type="variables_get" id="Aze7[[GiN?Y1{u`IktLr"><field name="VAR" id="-C(SxKJZ`9(4!N_MB~ht">i2cBuf</field></block></value><value name="INDEX"><shadow type="math_number" id="?U!1h?Io^}2`:VFzmS#M"><field name="NUM">1</field></shadow></value><value name="VALUE"><block type="argument_reporter_number" id="tp%qv:$Nj,/b~.(:TiW."><field name="VALUE">Dir</field></block></value><next><block type="lists_index_set" id="weG]0Gt|i(47!v%ojYG_"><value name="LIST"><block type="variables_get" id="@!Q9T}o~(41v(yWz:Os|"><field name="VAR" id="-C(SxKJZ`9(4!N_MB~ht">i2cBuf</field></block></value><value name="INDEX"><shadow type="math_number" id="PGKj1r-J8!2DUqtvEDTk"><field name="NUM">2</field></shadow></value><value name="VALUE"><block type="argument_reporter_number" id=";:oro%f$Z5G![ZPAtP@]"><field name="VALUE">Pwm</field></block></value><next><block type="typescript_statement" id="uM,L7D!mp%oX;%n0Txp1" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(0x10, i2cBuf)" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="zMDjrEITr%B6tjvb|CJD" x="1559" y="1868"><mutation name="IR_Nor" functionid="]#!Hl*d7VrDbE4_9lj`0"/><field name="function_name">IR_Nor</field><comment>紅外線正規化</comment><statement name="STACK"><block type="pxt_controls_for" id="R5]MmkUksIHE}F/:o1-f"><value name="VAR"><shadow type="variables_get_reporter" id="(W9-$1S%K{4PqoQ@Ds;f"><field name="VAR" id="RCtF+^T4_WPpmKRU5FM+">index2</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="FsTy0OE_`6B6N0msFXyO"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="lists_index_set" id="#el5|8!LHo/[C7H/v~|c"><comment>計算出最大最小值並鎖值</comment><value name="LIST"><block type="variables_get" id="pv-V=5cJC(.v)U3sp*$T"><field name="VAR" id="f-2krO2bi46^GD{i_Qsi">Nor</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="N*swz}*Y0-92K7FFVeo0"><field name="VAR" id="RCtF+^T4_WPpmKRU5FM+">index2</field></block></value><value name="VALUE"><block type="math_constrain_value" id="j;3nZSg5ydl[vDEpJ)Mk"><value name="value"><block type="math_map" id="c)0vcygX:rb3qrS1~{Y@"><value name="value"><block type="lists_index_get" id="4yazk%XYl0HKf[bl/{13"><value name="LIST"><block type="variables_get" id="C#D}Y1cl#*nE}dgeakNz"><field name="VAR" id="IHX@^izaQCUZ)1u;+0L{">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="nL3vz`~V#erYkmM6]_p]"><field name="VAR" id="RCtF+^T4_WPpmKRU5FM+">index2</field></block></value></block></value><value name="fromLow"><block type="lists_index_get" id="s/Y=,{sHA#kN/|8Ub7v,"><value name="LIST"><block type="variables_get" id="W1F2k^k0%gNg}Q0+Zejo"><field name="VAR" id="F`?p8W6;;osR+;fa#KJ!">Min</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|h0$pr}3$T=U~G]_dUXr"><field name="VAR" id="RCtF+^T4_WPpmKRU5FM+">index2</field></block></value></block></value><value name="fromHigh"><block type="lists_index_get" id="dj*n.5sB1Zeo9yjQC(1Y"><value name="LIST"><block type="variables_get" id="305}jQV^Rr}{`$(Gc*kR"><field name="VAR" id="Pg.@O4?,OXcm/1JS+~aG">Max</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ar6$0Hy%!$PoDOd-~2u0"><field name="VAR" id="RCtF+^T4_WPpmKRU5FM+">index2</field></block></value></block></value><value name="toLow"><shadow type="math_number" id="_HXE3JJ:mKPg?A5@x5SS"><field name="NUM">10</field></shadow></value><value name="toHigh"><shadow type="math_number" id=".kbVm1x0nn-6M2g^323i"><field name="NUM">3800</field></shadow></value></block></value><value name="low"><shadow type="math_number" id="66CsIs7@rkc7_lZ9)(j4"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="_},;@5b.ZfvTLsg;3J|i"><field name="NUM">4000</field></shadow></value></block></value></block></statement></block></statement></block></xml>